cpu 386
%include "macros.inc"

	extern	__CHK
	extern 	__MOVS
	extern 	__STRCAT
	extern	___199f3dh
	extern	___199f3eh
	extern	___243dedh
	extern	___183590h
	extern	___199f3fh
	extern	___1835a0h
	extern	___199f40h
	extern	___1835b0h
	extern	___199f41h
	extern	___1835c0h
	extern	___199f42h
	extern	___1835d0h
	extern	___199f43h
	extern	___1835e0h
	extern	___199f44h
	extern	___1835f0h
	extern	___199f45h
	extern	___183600h
	extern	___183610h
	extern	___1a21afh
	extern	___183620h
	extern	___1a21beh
	extern	___183630h
	extern	___1a21cdh
	extern	___183640h
	extern	___1a21dch
	extern	___183650h
	extern	___1a21ebh
	extern	___183660h
	extern	___1a21fah
	extern	___183670h
	extern	___1a2209h
	extern	___183680h
	extern	___1a2218h
	extern	___183690h
	extern	___1a2227h
	extern	___1836a0h
	extern	___1a2236h
	extern	___1836b0h
	extern	___1a2245h
	extern	___1836c0h
	extern	___1a2254h
	extern	___1836d0h
	extern	___1a2263h
	extern	___1836e0h
	extern	___1a2272h
	extern	___1836f0h
	extern	___1a2281h
	extern	___183700h
	extern	___1a2290h
	extern	___183710h
	extern	___1a229fh
	extern	___183720h
	extern	___1a22aeh
	extern	___183730h
	extern	___1a22bdh
	extern	___183740h
	extern	___1a22cch
	extern	___183750h
	extern	___1a22dbh
	extern	___183760h
	extern	___1a22eah
	extern	___183770h
	extern	___1a22f9h
	extern	___183780h
	extern	___1a2308h
	extern	___183790h
	extern	___1a2317h
	extern	___1837a0h
	extern	___1a2326h
	extern	___1837b0h
	extern	___1a2335h
	extern	___1837c0h
	extern	___1a2344h
	extern	___1837d0h
	extern	___1a2353h
	extern	___1837e0h
	extern	___1a2362h
	extern	___1837f0h
	extern	___1a2371h
	extern	___183800h
	extern	___1a2380h
	extern	___183810h
	extern	___1a238fh
	extern	___183820h
	extern	___1a239eh
	extern	___183830h
	extern	___1a23adh
	extern	___183840h
	extern	___1a23bch
	extern	___183850h
	extern	___1a23cbh
	extern	___183860h
	extern	___1a23dah
	extern	___183870h
	extern	___1a23e9h
	extern	___183880h
	extern	___1a23f8h
	extern	___183890h
	extern	___1a2407h
	extern	___1838a0h
	extern	___1a2416h
	extern	___1838b0h
	extern	___1a2425h
	extern	___1838c0h
	extern	___1a2434h
	extern	___1838d0h
	extern	___1a2443h
	extern	___1838e0h
	extern	___1a2452h
	extern	___1838f0h
	extern	___1a2461h
	extern	___183900h
	extern	___1a2470h
	extern	___183910h
	extern	___1a247fh
	extern	___183920h
	extern	___1a248eh
	extern	___183930h
	extern	___1a249dh
	extern	___183940h
	extern	___1a24ach
	extern	___183950h
	extern	___1a24bbh
	extern	___183960h
	extern	___1a24cah
	extern	___183970h
	extern	___1a24d9h
	extern	___183980h
	extern	___1a24e8h
	extern	___183990h
	extern	___1a24f7h
	extern	___1839a0h
	extern	___1a2506h
	extern	___1839b0h
	extern	___1a2515h
	extern	___1839c0h
	extern	___1a2524h
	extern	___1839d0h
	extern	___1a2533h
	extern	___1839e0h
	extern	___1a2542h
	extern	___1839f0h
	extern	___1a2551h
	extern	___183a00h
	extern	___1a2560h
	extern	___183a10h
	extern	___1a256fh
	extern	___183a20h
	extern	___1a257eh
	extern	___183a30h
	extern	___1a258dh
	extern	___183a40h
	extern	___1a259ch
	extern	___183a50h
	extern	___1a25abh
	extern	___183a60h
	extern	___1a25bah
	extern	___183a70h
	extern	___1a25c9h
	extern	___183a80h
	extern	___1a25d8h
	extern	___183a90h
	extern	___1a25e7h
	extern	___183aa0h
	extern	___1a25f6h
	extern	___183ab0h
	extern	___1a2605h
	extern	___183ac0h
	extern	___1a2614h
	extern	___183ad0h
	extern	___1a2623h
	extern	___183ae0h
	extern	___1a2632h
	extern	___183af0h
	extern	___1a2641h
	extern	___183b00h
	extern	___1a2650h
	extern	___183b10h
	extern	___1a265fh
	extern	___183b20h
	extern	___1a266eh
	extern	___183b30h
	extern	___1a267dh
	extern	___183b40h
	extern	___1a268ch
	extern	___183b50h
	extern	___1a26b9h
	extern	___183b60h
	extern	___1a26c8h
	extern	___183b70h
	extern	___1a2ac4h
	extern	___183b80h
	extern	___1a2ad3h
	extern	___183b90h
	extern	___1a2c3bh
	extern	___183ba0h
	extern	___1a2c59h
	extern	___183bb0h
	extern	___183bc0h
	extern	___1a2c68h
	extern	___183bd0h
	extern	___1a2d49h
	extern	___183be0h
	extern	___1a2d58h
	extern	___183bf0h
	extern	___1a2d67h
	extern	___183c00h
	extern	___1a2d85h
	extern	___183c10h
	extern	___1a2da3h
	extern	___183c20h
	extern	___1a2dc1h
	extern	___183c30h
	extern	___1a2dd0h
	extern	___183c40h
	extern	___1a2ddfh
	extern	___183c50h
	extern	___1a2deeh
	extern	___183c60h
	extern	___1a2dfdh
	extern	___183c70h
	extern	___1b4ed0h
	extern	___1a51d0h
	extern	___1a4ec0h
	extern	___196e70h
	extern	___45ad4h
	extern	___58c60h
	extern	___45b60h
	extern	___183c80h
	extern	___1a54d0h
	extern	___1831f4h
	extern	bpa_read
	extern	bpk_decode2
	extern	___183c8ch
	extern	___183c98h
	extern	___483d4h
	extern	___183cb4h
	extern	___183cd4h
	extern	___183cf4h
	extern	___183d14h
	extern	___183d34h
	extern	___183d54h
	extern	___183d74h
	extern	___183d94h
	extern	___1a1158h
	extern	___183db0h
	extern	___1a21a0h
	extern	___1a1150h
	extern	___183dc4h
	extern	___1a1148h
	extern	___183dd8h
	extern	___1a114ch
	extern	___183dech
	extern	___1a1140h
	extern	___183e00h
	extern	___1a115ch
	extern	___183e14h
	extern	___1a1154h
	extern	___183e28h
	extern	___1a1144h
	extern	___183e3ch
	extern	___183e50h
	extern	___1a1164h
	extern	___1a113ch
	extern	___1a1110h
	extern	___1a1130h
	extern	___1a1120h
	extern	___1a1118h
	extern	___1a111ch
	extern	___45c6ch
	extern	kmap
	extern	__STOSB
	extern	___59cd8h
	extern	___183e6ch
	extern	___183e78h
	extern	___196d9ch
	extern	race___46738h__VGA13_PRESENTCLEARSCREEN
	extern 	VGA13_ACTIVESCREEN
	extern 	__GET_FRAME_COUNTER

section .text

__GDECL(race___48458h)
		push    60h
		call    near __CHK
		push    ebx
		push    ecx
		push    edx
		push    esi
		push    edi
		push    ebp
		sub     esp, byte 3ch
		xor     edx, edx
		mov     dl, [___199f3dh]
		mov     eax, edx
		shl     eax, 4
		sub     eax, edx
		xor     edx, edx
		mov     dl, [___199f3eh]
		lea     edi, [eax+___243dedh]
		mov     eax, edx
		shl     eax, 4
		mov     esi, ___183590h
		sub     eax, edx
		xor     edx, edx
		movsd   
		movsd   
		movsd   
		movsw   
		mov     dl, [___199f3fh]
		lea     edi, [eax+___243dedh]
		mov     eax, edx
		shl     eax, 4
		mov     esi, ___1835a0h
		sub     eax, edx
		xor     edx, edx
		movsd   
		movsd   
		movsd   
		movsw   
		mov     dl, [___199f40h]
		lea     edi, [eax+___243dedh]
		mov     eax, edx
		shl     eax, 4
		mov     esi, ___1835b0h
		sub     eax, edx
		xor     edx, edx
		movsd   
		movsd   
		movsd   
		movsw   
		mov     dl, [___199f41h]
		lea     edi, [eax+___243dedh]
		mov     eax, edx
		shl     eax, 4
		mov     esi, ___1835c0h
		sub     eax, edx
		xor     edx, edx
		movsd   
		movsd   
		movsd   
		movsw   
		mov     dl, [___199f42h]
		lea     edi, [eax+___243dedh]
		mov     eax, edx
		shl     eax, 4
		mov     esi, ___1835d0h
		sub     eax, edx
		xor     edx, edx
		movsd   
		movsd   
		movsd   
		movsw   
		mov     dl, [___199f43h]
		lea     edi, [eax+___243dedh]
		mov     eax, edx
		shl     eax, 4
		mov     esi, ___1835e0h
		sub     eax, edx
		xor     edx, edx
		movsd   
		movsd   
		movsd   
		movsw   
		mov     dl, [___199f44h]
		lea     edi, [eax+___243dedh]
		mov     eax, edx
		shl     eax, 4
		mov     esi, ___1835f0h
		sub     eax, edx
		xor     edx, edx
		movsd   
		movsd   
		movsd   
		movsw   
		mov     dl, [___199f45h]
		lea     edi, [eax+___243dedh]
		mov     eax, edx
		mov     esi, ___183600h
		shl     eax, 4
		movsd   
		movsd   
		movsd   
		movsw   
		sub     eax, edx
		mov     esi, ___183610h
		lea     edi, [eax+___243dedh]
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a21afh
		mov     esi, ___183620h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a21beh
		mov     esi, ___183630h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a21cdh
		mov     esi, ___183640h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a21dch
		mov     esi, ___183650h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a21ebh
		mov     esi, ___183660h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a21fah
		mov     esi, ___183670h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2209h
		mov     esi, ___183680h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2218h
		mov     esi, ___183690h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2227h
		mov     esi, ___1836a0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2236h
		mov     esi, ___1836b0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2245h
		mov     esi, ___1836c0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2254h
		mov     esi, ___1836d0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2263h
		mov     esi, ___1836e0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2272h
		mov     esi, ___1836f0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2281h
		mov     esi, ___183700h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2290h
		mov     esi, ___183710h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a229fh
		mov     esi, ___183720h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a22aeh
		mov     esi, ___183730h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a22bdh
		mov     esi, ___183740h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a22cch
		mov     esi, ___183750h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a22dbh
		mov     esi, ___183760h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a22eah
		mov     esi, ___183770h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a22f9h
		mov     esi, ___183780h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2308h
		mov     esi, ___183790h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2317h
		mov     esi, ___1837a0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2326h
		mov     esi, ___1837b0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2335h
		mov     esi, ___1837c0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2344h
		mov     esi, ___1837d0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2353h
		mov     esi, ___1837e0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2362h
		mov     esi, ___1837f0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2371h
		mov     esi, ___183800h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2380h
		mov     esi, ___183810h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a238fh
		mov     esi, ___183820h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a239eh
		mov     esi, ___183830h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a23adh
		mov     esi, ___183840h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a23bch
		mov     esi, ___183850h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a23cbh
		mov     esi, ___183860h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a23dah
		mov     esi, ___183870h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a23e9h
		mov     esi, ___183880h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a23f8h
		mov     esi, ___183890h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2407h
		mov     esi, ___1838a0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2416h
		mov     esi, ___1838b0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2425h
		mov     esi, ___1838c0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2434h
		mov     esi, ___1838d0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2443h
		mov     esi, ___1838e0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2452h
		mov     esi, ___1838f0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2461h
		mov     esi, ___183900h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2470h
		mov     esi, ___183910h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a247fh
		mov     esi, ___183920h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a248eh
		mov     esi, ___183930h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a249dh
		mov     esi, ___183940h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a24ach
		mov     esi, ___183950h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a24bbh
		mov     esi, ___183960h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a24cah
		mov     esi, ___183970h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a24d9h
		mov     esi, ___183980h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a24e8h
		mov     esi, ___183990h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a24f7h
		mov     esi, ___1839a0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2506h
		mov     esi, ___1839b0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2515h
		mov     esi, ___1839c0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2524h
		mov     esi, ___1839d0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2533h
		mov     esi, ___1839e0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2542h
		mov     esi, ___1839f0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2551h
		mov     esi, ___183a00h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2560h
		mov     esi, ___183a10h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a256fh
		mov     esi, ___183a20h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a257eh
		mov     esi, ___183a30h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a258dh
		mov     esi, ___183a40h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a259ch
		mov     esi, ___183a50h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a25abh
		mov     esi, ___183a60h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a25bah
		mov     esi, ___183a70h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a25c9h
		mov     esi, ___183a80h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a25d8h
		mov     esi, ___183a90h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a25e7h
		mov     esi, ___183aa0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a25f6h
		mov     esi, ___183ab0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2605h
		mov     esi, ___183ac0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2614h
		mov     esi, ___183ad0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2623h
		mov     esi, ___183ae0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2632h
		mov     esi, ___183af0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2641h
		mov     esi, ___183b00h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2650h
		mov     esi, ___183b10h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a265fh
		mov     esi, ___183b20h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a266eh
		mov     esi, ___183b30h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a267dh
		mov     esi, ___183b40h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a268ch
		mov     esi, ___183b50h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a26b9h
		mov     esi, ___183b60h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a26c8h
		mov     esi, ___183b70h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2ac4h
		mov     esi, ___183b80h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2ad3h
		mov     esi, ___183b90h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2c3bh
		mov     esi, ___183ba0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2c59h
		mov     esi, ___183bb0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2c59h
		mov     esi, ___183bc0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2c68h
		mov     esi, ___183bd0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2d49h
		mov     esi, ___183be0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2d58h
		mov     esi, ___183bf0h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2d67h
		mov     esi, ___183c00h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2d85h
		mov     esi, ___183c10h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2da3h
		mov     esi, ___183c20h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2dc1h
		mov     esi, ___183c30h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2dd0h
		mov     esi, ___183c40h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2ddfh
		mov     esi, ___183c50h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2deeh
		mov     esi, ___183c60h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     edi, ___1a2dfdh
		mov     esi, ___183c70h
		movsd   
		movsd   
		movsd   
		movsw   
		mov     ecx, 0fa00h
		;mov     esi, 0a0000h
	mov 	esi, VGA13_ACTIVESCREEN
		mov     edi, ___1b4ed0h
		call 	__MOVS
		mov     ecx, 300h
		mov     esi, ___1a51d0h
		mov     edi, ___1a4ec0h
		xor     edx, edx
		call 	__MOVS
		mov     [___196e70h], edx
		call    near ___45ad4h
___48bc7h:

	push 	edx
	push 	ecx
	push 	eax
		call    ___58c60h
	pop 	eax
	pop 	ecx
	pop 	edx

		inc     edx
		call    near ___45b60h
		cmp     edx, byte 3fh
		jl      short ___48bc7h
		mov     ebx, ___183c80h
		mov     edx, ___1a54d0h
		mov     eax, ___1831f4h
	
	push 	ecx
	push 	ebx
	push 	edx
	push 	eax
		call    bpa_read					;;
	add 	esp, 0ch
	pop 	ecx

		push    ___1a54d0h
		;push    0a0000h
	push 	VGA13_ACTIVESCREEN
		call 	bpk_decode2
		add 	esp, 8
		mov     ebx, ___183c8ch
		mov     edx, ___1a4ec0h
		mov     eax, ___1831f4h
	
	push 	ecx
	push 	ebx
	push 	edx
	push 	eax
		call    bpa_read					;;
	add 	esp, 0ch
	pop 	ecx

		mov     edx, ___183c98h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a0a3ch
		call    near ___483d4h
		mov     edx, ___183cb4h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a193ch
		call    near ___483d4h
		mov     edx, ___183cd4h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a20bch
		call    near ___483d4h
		mov     edx, ___183cf4h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a283ch
		call    near ___483d4h
		mov     edx, ___183d14h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a2fbch
		call    near ___483d4h
		mov     edx, ___183d34h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a373ch
		call    near ___483d4h
		mov     edx, ___183d54h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a3ebch
		call    near ___483d4h
		mov     edx, ___183d74h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a463ch
		call    near ___483d4h
		mov     edx, ___183d94h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a5a3ch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1158h]
		mov     esi, ___183db0h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___1a21a0h
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a693ch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1150h]
		mov     esi, ___183dc4h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___1a21a0h
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a70bch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1148h]
		mov     esi, ___183dd8h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___1a21a0h
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a783ch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a114ch]
		mov     esi, ___183dech
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___1a21a0h
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		call 	__STRCAT
		mov     edx, esp
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a7fbch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1140h]
		mov     esi, ___183e00h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___1a21a0h
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a873ch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a115ch]
		mov     esi, ___183e14h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___1a21a0h
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a8ebch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1154h]
		mov     esi, ___183e28h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___1a21a0h
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a963ch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1144h]
		mov     esi, ___183e3ch
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___1a21a0h
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0a9dbch
		call    near ___483d4h
		mov     edx, ___183e50h
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0ab1bch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1164h]
		mov     esi, ___183db0h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___243dedh
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0ac0bch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a113ch]
		mov     esi, ___183dc4h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___243dedh
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0ac83ch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1110h]
		mov     esi, ___183dd8h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___243dedh
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0acfbch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1130h]
		mov     esi, ___183dech
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___243dedh
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0ad73ch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1120h]
		mov     esi, ___183e00h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___243dedh
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0adebch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a1118h]
		mov     esi, ___183e14h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___243dedh
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0ae63ch
		mov     edi, esp
		call    near ___483d4h
		mov     edx, [___1a111ch]
		mov     esi, ___183e28h
		mov     eax, edx
		movsd   
		movsd   
		movsd   
		movsd   
		movsb   
		shl     eax, 4
		mov     esi, ___243dedh
		sub     eax, edx
		mov     edi, esp
		add     esi, eax
		mov     edx, esp
		call 	__STRCAT
		mov     eax, VGA13_ACTIVESCREEN - 0a0000h + 0aedbch
		xor     ebx, ebx
		call    near ___483d4h
		mov     [___196e70h], ebx
		call    near ___45ad4h
		xor     edx, edx
___49163h:

	push 	edx
	push 	ecx
	push 	eax
		call    ___58c60h
	pop 	eax
	pop 	ecx
	pop 	edx

		inc     edx
		call    near ___45c6ch
		cmp     edx, byte 3fh
		jl      short ___49163h
		mov     ecx, 100h
		mov     eax, kmap
		xor     edx, edx

	push 	ecx
	push 	edx
	push 	eax
		call    __STOSB
	add 	esp, 0ch

		xor     edi, edi
		xor     edx, edx
___49188h:
		call    near ___59cd8h

	push 	edx
	push 	ecx
		call    __GET_FRAME_COUNTER
	pop		ecx
	pop		edx

		mov     eax, edi
___4918fh:
		xor     ebx, ebx
		mov     bl, [eax+kmap]
		inc     eax
		add     edx, ebx
		cmp     eax, dword 100h
		jl      short ___4918fh
		test    edx, edx
		je      short ___49188h
		xor     ecx, ecx
		xor     edx, edx
		mov     [___196e70h], ecx
		call    near ___45ad4h
___491b4h:

	push 	edx
	push 	ecx
	push 	eax
		call    ___58c60h
	pop 	eax
	pop 	ecx
	pop 	edx

		inc     edx
		call    near ___45b60h
		cmp     edx, byte 3fh
		jl      short ___491b4h
		mov     ebx, ___183e6ch
		mov     edx, ___1a54d0h
		mov     eax, ___1831f4h
	
	push 	ecx
	push 	ebx
	push 	edx
	push 	eax
		call    bpa_read					;;
	add 	esp, 0ch
	pop 	ecx

		push    ___1a54d0h
		;push    0a0000h
	push 	VGA13_ACTIVESCREEN
		call 	bpk_decode2
		add 	esp, 8
		mov     ebx, ___183e78h
		mov     edx, ___1a4ec0h
		mov     eax, ___1831f4h
		xor     esi, esi
	
	push 	ecx
	push 	ebx
	push 	edx
	push 	eax
		call    bpa_read					;;
	add 	esp, 0ch
	pop 	ecx

		mov     [___196e70h], esi
		call    near ___45ad4h
		xor     edx, edx
___4920ah:

	push 	edx
	push 	ecx
	push 	eax
		call    ___58c60h
	pop 	eax
	pop 	ecx
	pop 	edx

		inc     edx
		call    near ___45c6ch
		cmp     edx, byte 3fh
		jl      short ___4920ah
		mov     ecx, 100h
		mov     eax, kmap
		xor     edx, edx

	push 	ecx
	push 	edx
	push 	eax
		call    __STOSB
	add 	esp, 0ch

		xor     edi, edi
		xor     edx, edx
___4922fh:
		call    near ___59cd8h

	push 	edx
	push 	ecx
		call    __GET_FRAME_COUNTER
	pop		ecx
	pop		edx

		mov     eax, edi
___49236h:
		xor     ebx, ebx
		mov     bl, [eax+kmap]
		inc     eax
		add     edx, ebx
		cmp     eax, dword 100h
		jl      short ___49236h
		test    edx, edx
		je      short ___4922fh
		xor     edi, edi
		xor     edx, edx
		mov     [___196e70h], edi
		call    near ___45ad4h
___4925bh:

	push 	edx
	push 	ecx
	push 	eax
		call    ___58c60h
	pop 	eax
	pop 	ecx
	pop 	edx

		inc     edx
		call    near ___45b60h
		cmp     edx, byte 3fh
		jl      short ___4925bh
		mov     ecx, 0fa00h
		mov     esi, ___1b4ed0h
		;mov     edi, 0a0000h
	mov 	edi, VGA13_ACTIVESCREEN
		call 	__MOVS
		xor     ebp, ebp
		mov     ecx, 300h
		mov     esi, ___1a51d0h
		mov     edi, ___1a4ec0h
		xor     edx, edx
		call 	__MOVS
		mov     [___196e70h], ebp
		call    near ___45ad4h
___492b8h:

	push 	edx
	push 	ecx
	push 	eax
		call    ___58c60h
	pop 	eax
	pop 	ecx
	pop 	edx

		inc     edx
		call    near ___45c6ch
		cmp     edx, byte 3fh
		jl      short ___492b8h
		mov     ecx, 100h
		mov     eax, kmap
		xor     edx, edx

	push 	ecx
	push 	edx
	push 	eax
		call    __STOSB
	add 	esp, 0ch

		cmp     dword [___196d9ch], byte 1
		jne     short ___492e7h
		call    near race___46738h__VGA13_PRESENTCLEARSCREEN
___492e7h:
		add     esp, byte 3ch
		pop     ebp
		pop     edi
		pop     esi
		pop     edx
		pop     ecx
		pop     ebx
		retn    
