#include "drally.h"

	extern byte ___1a112ch__VESA101_ACTIVESCREEN_PTR[];
	extern byte ___1a1e6ch[];
	extern byte ___1a1ee4h[];
	extern byte ___1a1ea8h[];
	extern byte ___185cbch[];
	extern byte ___1a1ed0h[];
	extern byte ___1a01b8h[];
	extern byte ___18e2a4h[];
	extern byte ___180728h[];
	extern byte ___185a14h_UseWeapons[];
	extern byte ___18e298h[];
	extern byte ___1a1e78h[];

void ___259e0h_cdecl(dword, dword, dword, dword, dword);
void ___13094h_cdecl(const char *, dword);
dword ___25180h_cdecl(dword);
void ___12f60h_cdecl(dword, dword);
void ___13248h_cdecl(dword, dword ,dword, dword, dword);
char * itoa_watcom106(int value, char * buffer, int radix);

void ___25a74h(void){

	dword 	eax, ebx, ecx, edx, edi, esi, ebp, p5;
	byte 	esp[0x28];


		ecx = 0x60;
		ebx = D(___1a112ch__VESA101_ACTIVESCREEN_PTR);
		esi = D(___1a1e6ch);
		ebx += 0x13890;
		edx = ecx;
		L(edx) >>= 2;
___25aa2h:
		H(ecx) = L(edx);
___25aa4h:
		eax = D(esi);
		D(ebx) = eax;
		ebx += 4;
		esi += 4;
		H(ecx)--;
		if(H(ecx)) goto ___25aa4h;
		ebx += 0x280;
		L(edx) <<= 2;
		ebx -= edx;
		L(edx) >>= 2;
		L(ecx)--;
		if(L(ecx)) goto ___25aa2h;
		ecx = 0x10;
		edx = D(___1a1ee4h);
		ebx = D(___1a112ch__VESA101_ACTIVESCREEN_PTR);
		eax = 4*edx;
		esi = D(___1a1ea8h);
		eax -= edx;
		ebx += 0x13890;
		eax <<= 9;
		edx = 0x60;
		esi += eax;
		L(edx) >>= 2;
___25af7h:
		H(ecx) = L(edx);
___25af9h:
		eax = D(esi);
		D(ebx) = eax;
		ebx += 4;
		esi += 4;
		H(ecx)--;
		if(H(ecx)) goto ___25af9h;
		ebx += 0x280;
		L(edx) <<= 2;
		ebx -= edx;
		L(edx) >>= 2;
		L(ecx)--;
		if(L(ecx)) goto ___25af7h;
		eax = D(___1a1ee4h);
		edx = 0x8d;
		eax <<= 8;
		ecx = D(___1a1ee4h);
		eax = ___185cbch+eax;
		ebx = D(___1a1ed0h);
		p5 = eax;
		ecx = D(ecx*4+___1a01b8h);
		eax = 0x10;
		___259e0h_cdecl(eax, edx, ebx, ecx, p5);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		ebx = 0xa;
		eax <<= 5;
		edx = esp+0x14;
		eax = D(eax+___18e2a4h);
		edi = esp;
		eax = itoa_watcom106(eax, edx, ebx);
		X(eax) = W(___180728h);
		esi = esp+0x14;
		W(esp) = X(eax);
		strcat(edi, esi);
		eax = esp;
		eax = ___25180h_cdecl(eax);
		edx = eax+0x20590;
		ebx = 0x180;
		eax = esp;
		ecx = 0x77;
		___12f60h_cdecl(eax, edx);
		p5 = 1;
		edx = 0x72;
		eax = 0x90;
		___13248h_cdecl(eax, edx, ebx, ecx, p5);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		edx = D(___185a14h_UseWeapons);
		eax = ___18e298h+eax;
		if(edx == 0) goto ___25ce5h;
		edx = 0x136aa;
		eax += 0x100;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x15eaa;
		eax += 0x128;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x186aa;
		eax += 0x150;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x1aeaa;
		eax += 0x178;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x1d6aa;
		eax += 0x1a0;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x1feaa;
		eax += 0x1c8;
		goto ___25dc0h;
___25ce5h:
		edx = 0x136aa;
		eax += 0x10;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x15eaa;
		eax += 0x38;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x186aa;
		eax += 0x60;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x1aeaa;
		eax += 0x88;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x1d6aa;
		eax += 0xb0;
		___13094h_cdecl(eax, edx);
		edx = D(___1a1ee4h);
		eax = 8*edx;
		eax -= edx;
		eax <<= 3;
		eax -= edx;
		eax <<= 5;
		eax = ___18e298h+eax;
		edx = 0x1feaa;
		eax += 0xd8;
___25dc0h:
		___13094h_cdecl(eax, edx);
		ecx = 0x40;
		edx = 0x10;
		ebx = D(___1a112ch__VESA101_ACTIVESCREEN_PTR);
		esi = D(___1a1e78h);
		ebx += 0x16080;
___25de1h:
		edi = edx;
___25de3h:
		L(eax) = B(esi);
		if(L(eax) == 0) goto ___25debh;
		B(ebx) = L(eax);
___25debh:
		ebx++;
		esi++;
		edi--;
		if(edi) goto ___25de3h;
		ebx += 0x280;
		ebx -= edx;
		ecx--;
		if(ecx) goto ___25de1h;
		ecx = 0x40;
		edx = 0x10;
		ebx = D(___1a112ch__VESA101_ACTIVESCREEN_PTR);
		esi = D(___1a1e78h);
		ebx += 0x160f0;
		esi += 0x400;
___25e1dh:
		edi = edx;
___25e1fh:
		L(eax) = B(esi);
		if(L(eax) == 0) goto ___25e27h;
		B(ebx) = L(eax);
___25e27h:
		ebx++;
		esi++;
		edi--;
		if(edi) goto ___25e1fh;
		ebx += 0x280;
		ebx -= edx;
		ecx--;
		if(ecx) goto ___25e1dh;
		return;
}
